{% extends 'base.html.twig' %}

{% block title %}Review{% endblock %}

{% block body %}

    <h1>Review</h1>

    <table>

        <tr>
            <th>Review</th>
            <td>{{ review.review }}</td>
        </tr>
        <tr>
            <th>Place Of Purchase</th>
            <td>{{ review.placeOfPurchase }}</td>
        </tr>
        <tr>
            <th>Price Paid</th>
            <td>{{ review.pricePaid }}</td>
        </tr>
        <p><b> Rating out of 5 stars :     </b>


            {% set starsLeft = 0 %}
            {% for i in range(1, review.numOfStars, 1) %}                               	{% set starsLeft = i %}
                <img class="review_star" src="/images/full_star.png" alt="star">
            {% endfor %}
            {%  if review.numOfStars - starsLeft != 0%}
                <img class="review_star" src="/images/half_star.png" alt="star">
            {% endif %}
        <p><b>  {{ review.numOfStars }} /5 </b></p>
        </p>
        <tr>
            <th>User</th>
            <td>{{ review.user }}</td>
        </tr>
        <tr>
            <th>Date</th>
            <td>{{ review.date ? review.date|date('d-m-y') : '' }}</td>
        </tr>

    </table>

    <a href="{{ path('homepage') }}">back to list</a>

    {% if is_granted('ROLE_USER') %}
    <a href="{{ path('review_edit', {'id': review.id}) }}">edit</a>

    {% include 'review/_delete_form.html.twig' with {'identifier': review.id} only %}
{% endif %}
{% endblock %}